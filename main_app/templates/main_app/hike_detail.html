{% extends 'base.html' %}
{% block content %}

<h1>Hike Details</h1>

<div class="row">
  <div class="col s6 col-offset-3">
    <div class="card">
      <div class="card-content">
        <span class="card-title">{{ hike.name }}</span>
        <p>Difficulty: {{ hike.get_difficulty_display}}</p>
        <p>Location: {{ hike.location}}</p>
        <p>Description: {{ hike.description}}</p>

        
      </div>
      <div class="card-action">
        <a href="{% url 'hikes_update' hike.id %}">Edit</a>
        <a href="{% url 'hikes_delete' hike.id %}">Delete</a>
      </div>
    </div>
    {% if reviews %}
    {% for review in reviews %}
      <div class='card'>
        <div class="card-content">
          <span class="card-title">
            {{ review.user }}
            {% if review.user == user%}
            <div class="card-action">
              <a href="{% url 'reviews_delete' review.id %}">Delete</a>
            </div>
            {% endif %}
          </span>
        <p>Added on: {{ review.date}}</p>
        <p>Rating: {{ review.rating }}</p>
        <p>{{ review.content}}</p>
        </div>
      </div>
    {% endfor %}
    {% else %}
    <p>No Reviews Yet</p>
    {% endif %} 
    <form action="{% url 'add_review' hike.id%}" method="POST">
      {% csrf_token %}
      {{ review_form.as_p }}
      <button class="btn" type="submit">Add Review</button>
    </form>
  </div>
</div>
{% endblock %}